{%- doc -%}
  Renders a product info box with title, subtitle, and image in a two-column layout.
  
  @example
  {% content_for 'block', type: 'product-info-box', id: 'product-info-box' %}
{%- enddoc -%}

{%- assign block_settings = block.settings -%}

<div
  class="product-info-box"
  style="
    background-color: {{ block_settings.background_color }};
    width: 530px;
    height: 100px;
  "
  {{ block.shopify_attributes }}
>
  <div class="product-info-box__content">
    <div class="product-info-box__text-column">
      {% if block_settings.title != blank %}
        <h3 class="product-info-box__title">{{ block_settings.title | escape }}</h3>
      {% endif %}
      {% if block_settings.subtitle != blank %}
        <p class="product-info-box__subtitle">{{ block_settings.subtitle | escape }}</p>
      {% endif %}
    </div>
    <div class="product-info-box__image-column">
      {% if block_settings.image != blank %}
        {{
          block_settings.image
          | image_url: width: 50
          | image_tag: loading: 'lazy', class: 'product-info-box__image', alt: block_settings.image.alt | default: block_settings.title
        }}
      {% endif %}
    </div>
  </div>
</div>

{% stylesheet %}
  .product-info-box {
    display: flex;
    align-items: center;
    padding: 1rem;
    box-sizing: border-box;
    border-radius: 25px;
  }

  .product-info-box__content {
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    height: 100%;
    gap: 1rem;
  }

  .product-info-box__text-column {
    display: flex;
    flex-direction: column;
    justify-content: center;
    flex: 1;
    gap: 0.25rem;
  }

  .product-info-box__title {
    margin: 0;
    font-size: 1rem;
    font-weight: 600;
    line-height: 1.2;
  }

  .product-info-box__subtitle {
    margin: 0;
    font-size: 0.875rem;
    line-height: 1.3;
    opacity: 0.8;
  }

  .product-info-box__image-column {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    width: auto;
    height: 100%;
  }

  .product-info-box__image {
    max-width: 80px;
    max-height: 80px;
    width: auto;
    height: auto;
    object-fit: contain;
  }
{% endstylesheet %}

{% schema %}
{
  "name": "Product Info Box",
  "tag": null,
  "settings": [
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "Title"
    },
    {
      "type": "text",
      "id": "subtitle",
      "label": "Subtitle",
      "default": "Subtitle"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image"
    },
    {
      "type": "header",
      "content": "Appearance"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#f5f5f5"
    }
  ],
  "presets": [
    {
      "name": "Product Info Box"
    }
  ]
}
{% endschema %}

